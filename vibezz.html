<!DOCTYPE html>
<html>
  <head>
    <title>Opening Vibezz</title>
    <script>
      // Get "room" parameter from URL
      const params = new URLSearchParams(window.location.search);
      const room = params.get("room");

      if (room) {
        const deepLink = `exp+vibezz://join/${room}`;
        // Redirect immediately
        window.location.href = deepLink;
        // Also set fallback link in case redirect doesn't work
        window.onload = () => {
          document.getElementById("fallback").href = deepLink;
        };
      } else {
        // If room is missing, show an error message
        document.addEventListener("DOMContentLoaded", () => {
          document.body.innerHTML = "<p>Missing room code in URL.</p>";
        });
      }
    </script>
  </head>
  <body>
    <p>If the app doesn't open automatically, <a id="fallback" href="#">click here</a>.</p>
  </body>
</html>
